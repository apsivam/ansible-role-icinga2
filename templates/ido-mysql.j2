// {{ ansible_managed }}
{{ ic2_f_head[icinga2_feature_name] }}

library "db_ido_mysql"

object IdoMysqlConnection "ido-mysql" {
{% for k, v in icinga2_feature_idoMysql_connection.iteritems() %}
  {{ k }} = "{{ v }}"
{% endfor %}
{% if icinga2_feature_idoMysql_options is defined %}
{% for k, v in icinga2_feature_idoMysql_options.iteritems() %}
{% if v is string %}  {{ v }} = {{ k }}
{% elif v is mapping %}
  {{ k }} = {{ '{' }}
{% for j,l in v.iteritems() %}
    {{ j }} = {{ l }}
{% endfor %}{{ '  }' }}
{% elif v is sequence %}  {{ v }} = {{ '[ ' }}{% for n in v %}{{ n }}, {% endfor %}
{% endif %}
{% endfor %}
{% endif %}
}
